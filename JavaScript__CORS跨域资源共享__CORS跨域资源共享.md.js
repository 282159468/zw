(self["webpackChunkzw"]=self["webpackChunkzw"]||[]).push([[5554],{2543:function(e,t,n){"use strict";n.r(t);var l=n(7294),o=n(6089),r=n(5659);n(3132);t["default"]=e=>(l.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("p",null,"CORS \u8de8\u57df\u8d44\u6e90\u5171\u4eab\u662f\u4e00\u79cd\u4f7f\u7528 XMLHttpRequest \u5b9e\u73b0\u8de8\u57df\u8bf7\u6c42 \u7684\u65b9\u6cd5\uff0cCORS \u8bf7\u6c42\u5206\u4e3a\u4e24\u79cd"),l.createElement("h2",{id:"\u7b80\u5355\u8bf7\u6c42"},l.createElement(o.AnchorLink,{to:"#\u7b80\u5355\u8bf7\u6c42","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u7b80\u5355\u8bf7\u6c42"),l.createElement("h3",{id:"\u8bf7\u6c42\u65b9\u6cd5\u5fc5\u987b\u4e3a\u4ee5\u4e0b\u65b9\u6cd5"},l.createElement(o.AnchorLink,{to:"#\u8bf7\u6c42\u65b9\u6cd5\u5fc5\u987b\u4e3a\u4ee5\u4e0b\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u8bf7\u6c42\u65b9\u6cd5\u5fc5\u987b\u4e3a\u4ee5\u4e0b\u65b9\u6cd5"),l.createElement("ul",null,l.createElement("li",null,"GET"),l.createElement("li",null,"POST"),l.createElement("li",null,"HEAD \u8bf7\u6c42 Response \u4e0d\u4f1a\u8fd4\u56de body")),l.createElement("h3",{id:"\u53ea\u80fd\u624b\u52a8\u8bbe\u7f6e\u4ee5\u4e0b\u5934\u90e8\u5b57\u6bb5"},l.createElement(o.AnchorLink,{to:"#\u53ea\u80fd\u624b\u52a8\u8bbe\u7f6e\u4ee5\u4e0b\u5934\u90e8\u5b57\u6bb5","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u53ea\u80fd\u624b\u52a8\u8bbe\u7f6e\u4ee5\u4e0b\u5934\u90e8\u5b57\u6bb5"),l.createElement("ul",null,l.createElement("li",null,"Accept"),l.createElement("li",null,"Accept-Language"),l.createElement("li",null,"Last-Event-ID Sever Sent Event \u4e8b\u4ef6 ID\uff0c\u7528\u4e8e\u8fde\u63a5\u65ad\u5f00\u4e4b\u540e\u518d\u6b21\u627e\u5230\u5bf9\u5e94\u7684\u4e8b\u4ef6\u6062\u590d\u8fde\u63a5"),l.createElement("li",null,"Content-Type")),l.createElement("p",null,"\u53e6\u5916\u8fd8\u53ef\u4ee5\u5305\u62ec HTTP Client Hints \u76f8\u5173\u7684\u5b57\u6bb5"),l.createElement("ul",null,l.createElement("li",null,"DPR"),l.createElement("li",null,"Width \u56fe\u7247\u5bbd\u5ea6"),l.createElement("li",null,"Viewport-Width"),l.createElement("li",null,"Svae-Data \u503c\u4e3a On \u65f6\u8868\u793a\u5ba2\u6237\u7aef\u504f\u597d\u7b80\u5316\u7684\u6570\u636e\uff0c\u8f83\u5c0f\u5c3a\u5bf8\u3001\u538b\u7f29\u56fe\u7247")),l.createElement("h4",{id:"content-type-\u53ea\u80fd\u662f\u4ee5\u4e0b\u7c7b\u578b\u4e4b\u4e00"},l.createElement(o.AnchorLink,{to:"#content-type-\u53ea\u80fd\u662f\u4ee5\u4e0b\u7c7b\u578b\u4e4b\u4e00","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Content-Type \u53ea\u80fd\u662f\u4ee5\u4e0b\u7c7b\u578b\u4e4b\u4e00"),l.createElement("ul",null,l.createElement("li",null,"application/x-www-form-urlencoded")),l.createElement("p",null,"\u8868\u5355 POST \u65f6\u9ed8\u8ba4\u7684\u8d44\u6e90\u7c7b\u578b\uff0c\u503c\u5f62\u5f0f\u4e3a a=1&b=2"),l.createElement("ul",null,l.createElement("li",null,"multipart/form-data")),l.createElement("p",null,"Content-Type: multipart/form-data"),l.createElement(r.Z,{code:'boundary=----WebKitFormBoundaryI26Ec4f1hSPAyBfH\n\n------WebKitFormBoundaryI26Ec4f1hSPAyBfH\nContent-Disposition: form-data; name="a"\n\n1\n------WebKitFormBoundaryI26Ec4f1hSPAyBfH\nContent-Disposition: form-data; name="b"\n\n2\n------WebKitFormBoundaryI26Ec4f1hSPAyBfH--',lang:"js"}),l.createElement("ul",null,l.createElement("li",null,"text/plain")),l.createElement("p",null,"\u7b80\u5355\u8bf7\u6c42\u4ee5\u5916\u7684\u90fd\u662f\u975e\u7b80\u5355\u8bf7\u6c42\uff0cCORS \u5bf9\u4e24\u79cd\u8bf7\u6c42\u5904\u7406\u65b9\u5f0f\u4e0d\u4e00\u6837\uff0c\u5bf9\u975e\u7b80\u5355\u8bf7\u6c42\u9700\u8981\u5148\u901a\u8fc7\u4e00\u6b21\u9884\u68c0\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u63a5\u6536\u9884\u68c0\u8bf7\u6c42\u8fd4\u56de\u540c\u610f\u8de8\u57df\u8bf7\u6c42\uff0c\u5ba2\u6237\u63a5\u6536\u8fd4\u56de\u540e\u518d\u6b21\u53d1\u9001\u771f\u5b9e\u8bf7\u6c42\u83b7\u53d6\u6570\u636e;\u800c\u7b80\u5355\u8bf7\u6c42\u53ea\u9700\u4e00\u6b21\u5c31\u80fd\u5b8c\u6210\u3002"),l.createElement("p",null,"\u901a\u8fc7\u4e0a\u9762\u7b80\u5355\u8bf7\u6c42\u7684\u6761\u4ef6\uff0c\u53ef\u4ee5\u786e\u5b9a\u5e73\u65f6\u7ecf\u5e38\u7528\u7684",l.createElement("code",null,"application/json"),"\u8d44\u6e90\u7c7b\u578b\u5c5e\u4e8e\u975e\u7b80\u5355\u8bf7\u6c42"),l.createElement("h2",{id:"\u7b80\u5355\u8bf7\u6c42\u6d41\u7a0b"},l.createElement(o.AnchorLink,{to:"#\u7b80\u5355\u8bf7\u6c42\u6d41\u7a0b","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u7b80\u5355\u8bf7\u6c42\u6d41\u7a0b"),l.createElement("p",null,"\u7b80\u5355\u8bf7\u6c42\u76f4\u63a5\u53d1\u9001\u771f\u5b9e\u8bf7\u6c42\uff0c\u4e0d\u9700\u8981\u5148\u53d1\u9001\u9884\u68c0\u8bf7\u6c42\uff0c\u8bf7\u6c42\u5934\u90e8\u5b57\u6bb5\u4e2d\u9664\u4e86\u4f1a\u81ea\u52a8\u6dfb\u52a0",l.createElement("code",null,"Origin"),"\u5b57\u6bb5\u5916\u4e0d\u4f1a\u6dfb\u52a0\u5176\u4ed6",l.createElement("code",null,"Access-Control"),"\u5b57\u6bb5;\u4e14\u54cd\u5e94\u5934\u4e2d\u4e5f\u6ca1\u6709\u5305\u542b",l.createElement("code",null,"Methods"),"\u3001",l.createElement("code",null,"Headers"),"\u5b57\u6bb5"),l.createElement(r.Z,{code:"// Request\nvar xhr = new XMLHttpRequest();\nxhr.open('POST', 'http://localhost:3002/cors-simple-request');\nxhr.send();\nxhr.addEventListener('load', function() {\n  console.log(xhr.responseText);\n});\n\n// Response\napp.all('/cors-simple-request', function(req, res, next) {\n  res.setHeader('Access-Control-Allow-Origin', '*');\n  res.setHeader('Access-Control-Allow-Credentials', true);\n  res.json({ msg: 'This is CORS-enabled' });\n});",lang:"js"}),l.createElement(r.Z,{code:'// Request\nPOST /cors-simple-request HTTP/1.1\nHost: localhost:3002\nConnection: keep-alive\nContent-Length: 0\nPragma: no-cache\nCache-Control: no-cache\nOrigin: http://localhost:3001\nSec-Fetch-Dest: empty\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36\nAccept: */\\*\nSec-Fetch-Site: same-site\nSec-Fetch-Mode: cors\nReferer: http://localhost:3001/\nAccept-Encoding: gzip, deflate, br\nAccept-Language: zh-CN,zh;q=0.9,en;q=0.8\n\n// Response\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Origin: *\nConnection: keep-alive\nContent-Length: 30\nContent-Type: application/json; charset=utf-8\nDate: Sat, 11 Apr 2020 11:59:38 GMT\nETag: W/"1e-fV0DPlG9tiOfUtv5o/C7CtvsjgM"\nVary: Origin\nX-Powered-By: Express',lang:"js"}),l.createElement("h2",{id:"\u975e\u7b80\u5355\u8bf7\u6c42\u5904\u7406\u6d41\u7a0b"},l.createElement(o.AnchorLink,{to:"#\u975e\u7b80\u5355\u8bf7\u6c42\u5904\u7406\u6d41\u7a0b","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u975e\u7b80\u5355\u8bf7\u6c42\u5904\u7406\u6d41\u7a0b"),l.createElement("p",null,"\u53ef\u4ee5\u8ba4\u4e3a\u7b80\u5355\u8bf7\u6c42\u4ee5\u5916\u7684\u8bf7\u6c42\u4e3a\u975e\u7b80\u5355\u8bf7\u6c42\uff0c\u5f53",l.createElement("strong",null,"\u6d4f\u89c8\u5668"),"\u53d1\u73b0\u8bf7\u6c42\u662f\u4e00\u4e2a\u662f\u8de8\u57df\u975e\u7b80\u5355\u8bf7\u6c42\uff0c\u8fd9\u65f6\u4f1a\u5148\u53d1\u9001\u4e00\u4e2a\u9884\u68c0\u8bf7\u6c42\uff0c\u5c31\u662f\u95ee\u4e0b\u670d\u52a1\u7aef\u6211\u5230\u5e95\u80fd\u4e0d\u80fd\u8bbf\u95ee\u6267\u884c\u8fd9\u4e2a\u771f\u5b9e\u8bf7\u6c42\uff0c\u670d\u52a1\u7aef\u54cd\u5e94\u6b63\u5e38\u8868\u793a\u53ef\u4ee5\u4e86\u5c31\u4f1a\u518d\u53e6\u5916\u53d1\u4e00\u6b21\u771f\u5b9e\u8bf7\u6c42\u6700\u540e\u83b7\u53d6\u5230\u5185\u5bb9"),l.createElement("p",null,"\u5185\u5bb9\u4e00\u6bb5\u63d2\u66f2\u6709\u70b9\u5751\uff0c\u672c\u6765\u60f3\u7528 Express \u542f\u4e24\u4e2a\u670d\u52a1\u597d\u6d4b\u8bd5\u975e\u7b80\u5355\u8bf7\u6c42\u7684\uff0c\u4e00\u6d4b\u8bd5\u6b7b\u6d3b\u4e0d\u4f1a\u53d1\u9001\u9884\u68c0\u8bf7\u6c42\uff0c"),l.createElement("p",null,"\u7ed3\u679c\u5728 Express cors \u4e2d\u95f4\u4ef6\u7684 issue \u91cc\u53d1\u4e86\u73b0\u4e86\u8fd9\u4e2a",l.createElement(o.Link,{to:"https://github.com/expressjs/cors/issues/181"},"https://github.com/expressjs/cors/issues/181")),l.createElement("blockquote",null,l.createElement("p",null,"The ways CORS works is that your client (usually web browser) is what is actually deciding to make this requests, not this module. This module simply is a method to respond to the client when it does make them.",l.createElement("br",null),"So as for why those requests are being made -- you'll need to consult the support for your browser instead of this module. You can see for yourself that this module is not creating them by removing it from your code and then you'll still see those OPTIONS requests being sent by your client.")),l.createElement("p",null,"\u610f\u601d\u7529\u9505\uff0c\u5927\u6982\u662f\u8bf4\u6ca1\u53d1\u9884\u68c0\u8bf7\u6c42\u4e0d\u5173\u6211\u8fd9\u4e2a\u5305\u7684\u4e8b\uff0c\u8fd9\u5c5e\u4e8e\u6d4f\u89c8\u5668\u673a\u5236\u6211\u4eec\u7ba1\u4e0d\u7740\u3002\u6839\u636e\u8fd9\u70b9\u7ee7\u7eed\u641c\u7d22,\u679c\u7136"),l.createElement("p",null,l.createElement(o.Link,{to:"https://stackoverflow.com/questions/57410051/chrome-not-showing-options-requests-in-network-tab"},"https://stackoverflow.com/questions/57410051/chrome-not-showing-options-requests-in-network-tab")),l.createElement("p",null,l.createElement(o.Link,{to:"https://support.google.com/chrome/thread/11089651?hl=en"},"https://support.google.com/chrome/thread/11089651?hl=en")),l.createElement("p",null,l.createElement(o.Link,{to:"https://bugs.chromium.org/p/chromium/issues/detail?id=995740#c1"},"https://bugs.chromium.org/p/chromium/issues/detail?id=995740#c1")),l.createElement("ul",{className:"contains-task-list"},l.createElement("li",{className:"task-list-item"},l.createElement("input",{type:"checkbox",disabled:!0})," \u6682\u65f6\u6ca1\u770b\u61c2\u8fd9\u4e2a issue\uff0c\u4e3a\u4ec0\u4e48\u8981\u7981\u7528")),l.createElement("p",null,"\u7981\u7528 chrome ",l.createElement("code",null,"chrome://flags/#out-of-blink-cors")),l.createElement("p",null,"\u5ba2\u6237\u7aef"),l.createElement(r.Z,{code:"var xhr = new XMLHttpRequest();\nxhr.open('POST', 'http://localhost:3002/cors');\nxhr.setRequestHeader('Content-Type', 'application/json');\nxhr.send(JSON.stringify({ a: 2 }));",lang:"js"}),l.createElement("p",null,"\u670d\u52a1\u7aef"),l.createElement(r.Z,{code:"app.use(\n  cors({\n    origin: 'http://localhost:3001',\n    methods: ['GET', 'PUT', 'POST'],\n    allowedHeaders: ['X-Custom-Header', 'Content-Type'],\n    preflightContinue: true,\n  }),\n);\napp.post('/cors', function(req, res, next) {\n  res.json({ msg: 'This is CORS-enabled' });\n});",lang:"js"}),l.createElement("p",null,"\u9884\u68c0\u8bf7\u6c42\u7ec8\u4e8e\u51fa\u6765\u4e86"),l.createElement("p",null,l.createElement("img",{src:n(6739),alt:"OPTIONS"})),l.createElement("h3",{id:"general"},l.createElement(o.AnchorLink,{to:"#general","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"General"),l.createElement("ul",null,l.createElement("li",null,"Request Method: OPTIONS")),l.createElement("h3",{id:"request"},l.createElement(o.AnchorLink,{to:"#request","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Request"),l.createElement("ul",null,l.createElement("li",null,"Origin: ",l.createElement(o.Link,{to:"http://localhost:3001/"},"http://localhost:3001")," \u58f0\u660e\u8bf7\u6c42\u6e90\u5305\u62ec\u534f\u8bae\u3001\u57df\u3001\u7aef\u53e3"),l.createElement("li",null,"Access-Control-Request-Method: POST \u8bf7\u6c42\u65b9\u6cd5"),l.createElement("li",null,"Access-Contaol-Request-Headers: content-type \u8bf7\u6c42\u8bbe\u7f6e\u7684\u5934\u90e8\u5b57\u6bb5")),l.createElement("h3",{id:"response"},l.createElement(o.AnchorLink,{to:"#response","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Response"),l.createElement("ul",null,l.createElement("li",null,"Access-Control-Allow-Origin: ",l.createElement(o.Link,{to:"http://localhost:3001/"},"http://localhost:3001")),l.createElement("li",null,"Access-Control-Allow-Methods: GET,PUT,POST"),l.createElement("li",null,"Access-Contaol-Allow-Headers: X-Custom-Header,Content-Type")),l.createElement("p",null,"\u5982\u679c\u670d\u52a1\u7aef\u62d2\u7edd\u8de8\u57df\u8bf7\u6c42\uff0c\u8fd8\u662f\u4f1a\u4ee5 200 \u54cd\u5e94\uff0c\u4f46\u662f\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u4e5f\u4e0d\u4f1a\u518d\u6b21\u53d1\u9001\u771f\u5b9e\u8bf7\u6c42\uff0c\u6240\u4ee5\u4f1a\u89e6\u53d1\u5ba2\u6237\u7aef error \u4e8b\u4ef6\uff0c\u4e14\u63a5\u6536\u4e0d\u5230\u54cd\u5e94\u5185\u5bb9"),l.createElement("blockquote",null,l.createElement("p",null,"Access to XMLHttpRequest at '",l.createElement(o.Link,{to:"http://localhost:3002/cors"},"http://localhost:3002/cors"),"' from origin '",l.createElement(o.Link,{to:"http://localhost:3001/"},"http://localhost:3001"),"' has been blocked by CORS policy: Method DELETE is not allowed by Access-Control-Allow-Methods in preflight response. ",l.createElement("sub",null,"[1]"))),l.createElement(r.Z,{code:"var xhr = new XMLHttpRequest();\nxhr.open('DELETE', 'http://localhost:3002/cors');\nxhr.send();\nxhr.addEventListener('load', function(e) {\n  console.log('load', xhr.status, xhr.responseText);\n});\nxhr.addEventListener('error', function(e) {\n  // xhr.status:0\u8868\u793a\u8bf7\u6c42\u5931\u8d25\u6216\u8005\u8bf7\u6c42\u672a\u5b8c\u6210\n  console.log('onerror', xhr.status, xhr.statusText);\n});",lang:"js"}),l.createElement("p",null,l.createElement("code",null,"Access-Control-Allow-Methods"),"\u4e0d\u5305\u542b",l.createElement("code",null,"DELETE"),"\u8bf7\u6c42"),l.createElement(r.Z,{code:'HTTP/1.1 200 OK\nX-Powered-By: Express\nAccess-Control-Allow-Origin: http://localhost:3001\nVary: Origin\nAccess-Control-Allow-Methods: GET,PUT,POST\nAccess-Control-Allow-Headers: X-Custom-Header,Content-Type\nContent-Type: application/json; charset=utf-8\nContent-Length: 30\nETag: W/"1e-fV0DPlG9tiOfUtv5o/C7CtvsjgM"\nDate: Fri, 10 Apr 2020 15:10:17 GMT\nConnection: keep-alive',lang:"js"}),l.createElement("ul",{className:"contains-task-list"},l.createElement("li",{className:"task-list-item"},l.createElement("input",{type:"checkbox",disabled:!0})," error \u4e2d\u83b7\u53d6\u4e0d\u5230[1]\u5177\u4f53\u5f02\u5e38\u4fe1\u606f")),l.createElement("h2",{id:"cros-request-\u5b57\u6bb5"},l.createElement(o.AnchorLink,{to:"#cros-request-\u5b57\u6bb5","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"CROS Request \u5b57\u6bb5"),l.createElement("h3",{id:"origin"},l.createElement(o.AnchorLink,{to:"#origin","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Origin"),l.createElement("h3",{id:"access-control-request-method"},l.createElement(o.AnchorLink,{to:"#access-control-request-method","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Access-Control-Request-Method"),l.createElement("h3",{id:"aceess-control-request-headers"},l.createElement(o.AnchorLink,{to:"#aceess-control-request-headers","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Aceess-Control-Request-Headers"),l.createElement("h2",{id:"cros-response-\u5b57\u6bb5"},l.createElement(o.AnchorLink,{to:"#cros-response-\u5b57\u6bb5","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"CROS Response \u5b57\u6bb5"),l.createElement("h3",{id:"access-control-allow-origin-origin--"},l.createElement(o.AnchorLink,{to:"#access-control-allow-origin-origin--","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Access-Control-Allow-Origin: origin | *"),l.createElement("p",null,"\u5141\u8bb8\u8bbf\u95ee\u8be5\u8d44\u6e90\u7684 URI,\u53ef\u4ee5\u8bbe\u7f6e\u4e3a*\u8868\u793a\u5141\u8bb8\u6240\u6709\u57df\u7684\u8bf7\u6c42\uff0c\u4f46\u4e0d\u80fd\u53d1\u9001 ",l.createElement("code",null,"cookie")),l.createElement("h3",{id:"access-control-allow-methods"},l.createElement(o.AnchorLink,{to:"#access-control-allow-methods","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Access-Control-Allow-Methods"),l.createElement("h3",{id:"access-control-allow-headers"},l.createElement(o.AnchorLink,{to:"#access-control-allow-headers","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Access-Control-Allow-Headers"),l.createElement("h3",{id:"access-control-allow-credentials"},l.createElement(o.AnchorLink,{to:"#access-control-allow-credentials","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Access-Control-Allow-Credentials"),l.createElement("p",null,"\u662f\u5426\u5141\u8bb8\u5ba2\u6237\u643a\u5e26 ",l.createElement("code",null,"Cookie")," \u8bf7\u6c42,\u9488\u5bf9\u8bf7\u6c42\u4e2d\u6dfb\u52a0\u4e86 ",l.createElement("code",null,"xhr.withCredentials"),",\u5982\u679c\u540c\u65f6\u8bbe\u7f6e\u4e86",l.createElement("code",null,"Origin"),"\u4e3a*\u8bf7\u6c42\u65f6\u4f1a\u629b\u51fa\u4e0b\u9762\u7684\u5f02\u5e38"),l.createElement(r.Z,{code:"Access to XMLHttpRequest at 'http://localhost:3002/cors-all-origin' from origin 'http://localhost:3001' has been blocked by CORS policy: The value of the 'Access-Control-Allow-Origin' header in the response must not be the wildcard '*' when the request's credentials mode is 'include'. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.",lang:"js"}),l.createElement("ul",null,l.createElement("li",null,"Access-Control-Expose-Headers")),l.createElement("p",null,"CORS \u4e2d XMLHttpRequest \u5b9e\u4f8b\u901a\u8fc7 ",l.createElement("code",null,"getResponseHeader"),"\u6216\u8005 ",l.createElement("code",null,"getAllResponseHeaders"),"\u53ea\u80fd\u83b7\u53d6\u5230\u4e00\u4e9b\u57fa\u672c\u5934\u90e8\u5b57\u6bb5 ",l.createElement("code",null,"Content-Type"),",",l.createElement("code",null,"Content-Language"),",",l.createElement("code",null,"Expires"),",",l.createElement("code",null,"Cache-Control"),",",l.createElement("code",null,"Last-Modified"),",",l.createElement("code",null,"Pragma"),".\u670d\u52a1\u7aef\u53ef\u80fd\u901a\u8fc7\u8bbe\u7f6e ",l.createElement("code",null,"Access-Control-Expose-Headers")," \u8bbe\u7f6e\u5176\u4ed6\u9700\u8981\u66b4\u9732\u7684\u5b57\u6bb5"),l.createElement(r.Z,{code:"// Request\nvar xhr = new XMLHttpRequest();\nxhr.open('POST', 'http://localhost:3002/cors-getResponseHeader');\nxhr.send();\nxhr.addEventListener('load', function() {\n  console.log(xhr.responseText, xhr.getAllResponseHeaders());\n});\n\n// Response\napp.all('/cors-getResponseHeader', function(req, res, next) {\n  res.setHeader('Res-X-Header', 'value');\n  res.setHeader('Access-Control-Expose-Headers', 'Res-X-Header');\n  res.json({ msg: 'This is CORS-enabled' });\n});",lang:"js"}),l.createElement("ul",null,l.createElement("li",null,"Access-Control-Max-Age")),l.createElement("h2",{id:"\u5c0f\u7ed3"},l.createElement(o.AnchorLink,{to:"#\u5c0f\u7ed3","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u5c0f\u7ed3"),l.createElement("ul",null,l.createElement("li",null,"\u9884\u68c0\u8bf7\u6c42\u540e\u7684\u771f\u5b9e\u8bf7\u6c42 Request \u662f\u6ca1\u6709\u50cf\u9884\u68c0\u8bf7\u6c42\u4e00\u6837\u81ea\u52a8\u6dfb\u52a0 Access-Control \u5b57\u6bb5\uff0cResponse \u4e5f\u53ea\u5305\u62ec\u4e00\u4e2a Access-Control-Allow-Origin"),l.createElement("li",null,"\u81ea\u5b9a\u4e49\u7684 Header \u5b57\u6bb5\u5728\u9884\u68c0\u8bf7\u6c42\u65f6\u4e0d\u4f1a\u6dfb\u52a0\u4e86\u5934\u90e8\u5b57\u6bb5\u4e2d\uff0c\u53ea\u4f1a\u5728 Access-Control-Request-Headers: name1,name2"),l.createElement("li",null,"\u7b80\u5355\u8bf7\u6c42\u8bf7\u6c42\u5934\u4e2d\u5e76\u6ca1\u6709\u5305\u542b",l.createElement("code",null,"Access-Control"),"\u5b57\u6bb5\u53ea\u6709\u4e00\u4e2a ",l.createElement("code",null,"Origin"))))))},6739:function(e,t,n){e.exports=n.p+"static/options.2689360e.jpg"}}]);