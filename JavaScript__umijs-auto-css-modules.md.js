(self["webpackChunkzw"]=self["webpackChunkzw"]||[]).push([[175],{68227:function(e,n,l){"use strict";l.r(n);var t=l(67294),a=l(96089),o=l(65659);l(53132);n["default"]=e=>(t.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&a.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),t.createElement(t.Fragment,null,t.createElement("div",{className:"markdown"},t.createElement("h1",{id:"umijs---\u667a\u80fd\u7684-css-modules"},t.createElement(a.AnchorLink,{to:"#umijs---\u667a\u80fd\u7684-css-modules","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"UmiJS - \u667a\u80fd\u7684 Css Modules"),t.createElement("h2",{id:"\u80cc\u666f"},t.createElement(a.AnchorLink,{to:"#\u80cc\u666f","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u80cc\u666f"),t.createElement("p",null,"\u9879\u76ee\u4e2d\u4e00\u4e9b\u9875\u9762\u60f3\u4f7f\u7528 ",t.createElement("code",null,"css modules")," \u529f\u80fd\uff0c\u4e00\u4e9b\u9875\u9762\u4f7f\u7528 ",t.createElement("code",null,"global")," \u5f62\u5f0f"),t.createElement("p",null,"\u901a\u5e38\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u5c31\u662f\u5728\u6837\u5f0f\u6587\u4ef6\u540e\u7f00\u4e0a\u505a\u6587\u7ae0"),t.createElement(o.Z,{code:"const rule = {\n  test: /module\\.less$/,\n  loader: 'css-loader'\n  options: {\n      module: true\n  }\n};\n\nconst rule = {\n  test: /\\.less$/,\n  loader: 'css-loader'\n  options: {\n      module: false\n  }\n};",lang:"js"}),t.createElement(o.Z,{code:"// \u5e26module\u540e\u7f00\u7684\u6587\u4ef6\u91c7\u7528module\u5f62\u5f0f\nimport styles from './xxx.module.less';\n\n// \u5426\u5219\u4f7f\u7528global\nimport styles from './xxx.module.less';",lang:"js"}),t.createElement("p",null,"\u8fd9\u6837\u505a\u7684\u597d\u5904\u5c31\u662f",t.createElement("code",null,"webpack"),"\u914d\u7f6e\u7b80\u5355\u6613\u61c2\uff0c\u8fd8\u6709\u5c31\u662f\u53ef\u4ee5\u901a\u8fc7\u6587\u4ef6\u540d\u77e5\u9053\u8fd9\u4e2a\u6587\u4ef6\u662f\u7528\u7684",t.createElement("code",null,"module"),"\u5f62\u5f0f\uff0c\u7f3a\u70b9\u561b\u5c31\u662f\u5199\u6837\u5f0f\u6587\u4ef6\u540d\u7684\u65f6\u5019\u8981\u591a\u6572\u51e0\u4e2a\u5b57"),t.createElement("h2",{id:"\u5b9e\u73b0"},t.createElement(a.AnchorLink,{to:"#\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u5b9e\u73b0"),t.createElement("p",null,"\u61d2\u4fc3\u8fdb\u6280\u672f\u53d1\u5c55\uff0c\u6240\u4ee5",t.createElement("code",null,"UmiJS"),"\u901a\u8fc7\u5206\u6790",t.createElement("code",null,"import"),"\u5f62\u5f0f\u51b3\u5b9a\u6837\u5f0f\u6587\u4ef6\u662f",t.createElement("code",null,"module"),"\u8fd8\u662f",t.createElement("code",null,"global")),t.createElement(o.Z,{code:"// import\u6709\u8d4b\u503c\u4f7f\u7528module\nimport styles from './xxx.less';\n\n// \u5426\u5219\u4f7f\u7528global\nimport './xxx.less';",lang:"js"}),t.createElement("p",null,"\u81ea\u5df1\u8981\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u5176\u5b9e\u4e5f\u4e0d\u96be\uff0c\u5176\u6838\u5fc3\u539f\u7406\u5c31\u662f\u5229\u7528",t.createElement("code",null,"babel"),"\u5f3a\u5927\u7684",t.createElement("code",null,"AST"),"\u7ed9",t.createElement("code",null,"import"),"\u6709\u8d4b\u503c\u7684\u8bed\u53e5\u6253\u4e0a\u6807\u8bb0"),t.createElement("p",null,"\u5148\u968f\u4fbf\u81ea\u5b9a\u4e49\u4e2a",t.createElement("code",null,"babel"),"\u63d2\u4ef6\uff0c\u5927\u6982\u957f\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50\uff0c\u9664\u975e\u5f88\u719f\u6089\u4ed6\u7684",t.createElement("code",null,"API"),"\uff0c\u5426\u5219\u53ea\u80fd",t.createElement(a.Link,{to:"https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md"},"\u67e5\u770b\u6587\u6863")),t.createElement(o.Z,{code:"export default function() {\n  return {\n    visitor: {\n      Identifier(path) {\n        const name = path.node.name;\n        // reverse the name: JavaScript -> tpircSavaJ\n        path.node.name = name\n          .split('')\n          .reverse()\n          .join('');\n      },\n    },\n  };\n}",lang:"js"}),t.createElement("p",null,"\u628a\u8fd9\u4e2a\u63d2\u4ef6\u5e94\u7528\u5230\u81ea\u5df1\u9879\u76ee\u4e2d\uff0c\u7136\u540e\u89c2\u5bdf\u4e24\u79cd",t.createElement("code",null,"import"),"\u5dee\u5f02\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u6253\u6807\u8bb0\u4e86"),t.createElement(o.Z,{code:"let value = './xxx.less';\nif (has('specifiers.styles')) {\n  value += `${value}?modules`;\n}",lang:"js"}),t.createElement("p",null,"\u7136\u540e",t.createElement("code",null,"webpack"),"\u914d\u7f6e\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u4e3b\u8981\u5c31\u662f\u4f7f\u7528",t.createElement(a.Link,{to:"https://webpack.js.org/configuration/module/#ruleresourcequery"},"resourceQuery")),t.createElement(o.Z,{code:"module.exports = {\n  //...\n  module: {\n    rules: [\n      {\n        test: /\\\\.less$/,\n        // \u8fd9\u4e2a\u5c31\u662f\u4e0a\u9762\u6253\u7684\u6807\u8bb0\n        resourceQuery: /modules/,\n        use: 'css-loader',\n        options: { module: true },\n      },\n    ],\n  },\n};",lang:"js"}),t.createElement("p",null,"\u4ee5\u4e0a\u90fd\u662f\u4f2a\u4ee3\u7801\uff0c\u5927\u4f53\u601d\u8def\u662f\u8fd9\u6837\uff0c\u5176\u5b9e\u8ddf\u4e4b\u524d\u5b9e\u73b0\u7684\u7ec4\u4ef6\u5e93",t.createElement("code",null,"svg"),"\u7ec4\u4ef6\u7c7b\u4f3c"))))}}]);