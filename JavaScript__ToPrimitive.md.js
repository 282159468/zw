(self["webpackChunkzw"]=self["webpackChunkzw"]||[]).push([[4428],{86472:function(e,n,t){"use strict";t.r(n);var l=t(67294),r=t(96089),a=t(65659);t(53132);n["default"]=e=>(l.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("h1",{id:"\u62bd\u8c61\u503c\u64cd\u4f5c"},l.createElement(r.AnchorLink,{to:"#\u62bd\u8c61\u503c\u64cd\u4f5c","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u62bd\u8c61\u503c\u64cd\u4f5c"),l.createElement("p",null,"\u5bf9\u8c61\u7684 Symbol.toPrimitive \u51fd\u6570\u5c5e\u6027\uff0c\u5b9a\u4e49\u5bf9\u8c61\u8f6c\u6362\u4e3a\u539f\u59cb\u503c\u7684\u89c4\u8303\uff0c\u51fd\u6570\u7684 hint \u53c2\u6570\u9996\u5148\u786e\u5b9a\u8f6c\u6362\u610f\u56fe\u7684\u7c7b\u578b\uff0c"),l.createElement("p",null,"\u5e76\u751f\u6210\u8f6c\u6362\u65f6\u8c03\u7528\u7684\u65b9\u6cd5 methodNames\uff0c\u5373 valueOf\u3001toString"),l.createElement("h2",{id:"\u786e\u5b9a-hint"},l.createElement(r.AnchorLink,{to:"#\u786e\u5b9a-hint","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u786e\u5b9a hint"),l.createElement("ul",null,l.createElement("li",null,l.createElement("p",null,"string \u8868\u793a\u60f3\u628a\u5bf9\u8c61\u8f6c\u6362\u6210\u5b57\u7b26"),l.createElement("p",null,"methodNames = [toString, valueOf]")),l.createElement("li",null,l.createElement("p",null,"number \u8868\u793a\u60f3\u628a\u5bf9\u8c61\u8f6c\u6362\u6210\u6570\u5b57"),l.createElement("p",null,"methodNames = [valueOf, toString]")),l.createElement("li",null,l.createElement("p",null,"default \u8868\u793a\u610f\u56fe\u4e0d\u660e\u786e\uff0c\u8fd9\u79cd\u4e5f\u8ba4\u4e3a\u662f number \u5f62\u5f0f"))),l.createElement("h2",{id:"\u8c03\u7528-methodnames"},l.createElement(r.AnchorLink,{to:"#\u8c03\u7528-methodnames","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u8c03\u7528 methodNames"),l.createElement("p",null,"\u4f9d\u6b21\u8c03\u7528 methodNames \u5305\u542b\u7684\u51fd\u6570\uff0c\u5982\u679c\u8fd4\u56de\u503c\u4e3a\u539f\u59cb\u503c\u5219\u8fd4\u56de\u8be5\u503c\uff0c\u5426\u5219\u7ee7\u7eed\u8c03\u7528\uff0c\u76f4\u5230\u8fd4\u56de\u539f\u59cb\u503c\uff0c\u5982\u679c\u6700\u7ec8\u90fd\u6ca1\u6709\u8fd4\u56de\u539f\u59cb\u503c\u5219\u629b\u51fa\u5f02\u5e38"),l.createElement(a.Z,{code:"var o = {\n  valueOf: function() {\n    console.log(`valueOf`);\n    return {};\n  },\n  toString: function() {\n    console.log(`toString`);\n    return {};\n  },\n};\n\no + '';",lang:"js"}),l.createElement("p",null,"\u4e0a\u9762\u4f1a\u4f9d\u6b21\u8c03\u7528 valueOf\u3001toString\uff0c\u4f46\u4e24\u4e2a\u65b9\u6cd5\u90fd\u6ca1\u6709\u8fd4\u56de\u539f\u59cb\u503c\uff0c\u6700\u7ec8\u62a5\u9519"),l.createElement("blockquote",null,l.createElement("p",null,"Uncaught TypeError: Cannot convert object to primitive value")),l.createElement("p",null,"\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u78b0\u5230\u7684 ToPrimitive \u8f6c\u6362\u610f\u56fe\u4e86\u9664\u4e86 Date \u548c Symbol \u5916\uff0c\u5176\u4ed6\u90fd\u4e3a number\uff0c\u5373\u90fd\u4f1a\u4f18\u5148\u8c03\u7528 valueOf"),l.createElement("h2",{id:"\u5b9a\u5236-toprimitive"},l.createElement(r.AnchorLink,{to:"#\u5b9a\u5236-toprimitive","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u5b9a\u5236 ToPrimitive"),l.createElement(a.Z,{code:"var o = {\n  [Symbol.toPrimitive]: function(hint) {\n    console.log(`hint:${hint}`);\n    return 1;\n  },\n};\n\nNumber(o);\nString(o);",lang:"js"}),l.createElement("h2",{id:"\u8bef\u533a"},l.createElement(r.AnchorLink,{to:"#\u8bef\u533a","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u8bef\u533a"),l.createElement(a.Z,{code:"var a = {\n  valueOf: () => {\n    console.log('valueOf');\n    return 1;\n  },\n  toString: () => {\n    console.log('toString');\n    return 2;\n  },\n};\n\nvar a1 = a + '';\nvar a2 = a - 0;",lang:"js"}),l.createElement("p",null,"\u8ba4\u4e3a a+''\u64cd\u4f5c\u4f1a\u8c03\u7528 toString, a-0 \u8c03\u7528 valueOf\uff0c\u8fd9\u6837\u8ba4\u4e3a\u7684\u539f\u56e0\u662f\uff1a"),l.createElement("blockquote",null,l.createElement("p",null,"+\u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u5de6\u3001\u53f3\u503c\u5176\u4e2d\u4e00\u4e2a\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u5219\u628a\u53e6\u4e00\u4e2a\u4e5f\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\u7c7b\u578b\u518d\u8fd0\u7b97")),l.createElement("p",null,"\u4f46\u662f ECMA \u89c4\u8303\u5b9a\u4e49+\u64cd\u4f5c\u5b9e\u9645\u662f\uff1a"),l.createElement(a.Z,{code:"12.8.3The Addition Operator ( + )#\nNOTE\nThe addition operator either performs string concatenation or numeric addition.\n\n12.8.3.1Runtime Semantics: Evaluation#\nAdditiveExpression:AdditiveExpression+MultiplicativeExpression\nLet lref be the result of evaluating AdditiveExpression.\nLet lval be ? GetValue(lref).\nLet rref be the result of evaluating MultiplicativeExpression.\nLet rval be ? GetValue(rref).\nLet lprim be ? ToPrimitive(lval).\nLet rprim be ? ToPrimitive(rval).\nIf Type(lprim) is String or Type(rprim) is String, then\nLet lstr be ? ToString(lprim).\nLet rstr be ? ToString(rprim).\nReturn the String that is the result of concatenating lstr and rstr.\nLet lnum be ? ToNumber(lprim).\nLet rnum be ? ToNumber(rprim).\nReturn the result of applying the addition operation to lnum and rnum. See the Note below 12.8.5.\nNOTE 1\nNo hint is provided in the calls to ToPrimitive in steps 5 and 6. All standard objects except Date objects handle the absence of a hint as if the hint Number were given; Date objects handle the absence of a hint as if the hint String were given. Exotic objects may handle the absence of a hint in some other manner.\n\nNOTE 2\nStep 7 differs from step 5 of the Abstract Relational Comparison algorithm, by using the logical-or operation instead of the logical-and operation.",lang:"unknown"}),l.createElement("p",null,"\u8fd9\u4e00\u5927\u5806\u5927\u6982\u610f\u601d\u662f\u5148\u6267\u884c\u5de6\u53f3\u4e24\u8fb9\u7684\u8868\u8fbe\u5f0f\uff0c\u5e76\u83b7\u53d6\u5176\u503c\u5206\u522b\u8d4b\u503c\u7ed9 lval\u3001rval\uff0c\u7136\u540e\u5bf9 lval\u3001rval \u6267\u884c ToPrimitive()\uff0c\u5982\u679c ToPrimitive \u8fd4\u56de\u503c\u6709\u4e00\u4e2a\u662f\u5b57\u7b26\u4e32\u521a\u8fdb\u884c ToString\u3001\u5426\u5219 ToNumber"),l.createElement("p",null,"\u800c\u666e\u901a\u5bf9\u8c61 ToPrimitive \u8f6c\u6362\u610f\u56fe\u4e3a number \u6240\u4ee5\u4f1a\u5148\u8c03\u7528 valueOf"),l.createElement("h2",{id:"\u7ec3\u4e60\u9898"},l.createElement(r.AnchorLink,{to:"#\u7ec3\u4e60\u9898","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u7ec3\u4e60\u9898"),l.createElement(a.Z,{code:"[]+[]\n{}+{}\n[]+{}\n{}+[]",lang:"js"}))))}}]);